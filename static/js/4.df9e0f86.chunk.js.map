{"version":3,"sources":["../node_modules/grommet/es6/components/Text/StyledText.js","../node_modules/grommet/es6/components/Text/Text.js","../node_modules/grommet/es6/components/Paragraph/StyledParagraph.js","../node_modules/grommet/es6/components/Paragraph/Paragraph.js","../node_modules/grommet/es6/components/Collapsible/Collapsible.js","../node_modules/grommet-icons/es6/icons/Unlink.js","../node_modules/grommet-icons/es6/icons/Link.js","components/GifLoader/index.jsx","utils/useInterval.js","utils/scoreCalculator/index.js","components/SessionVote/index.jsx","components/SessionVotes/index.jsx","../node_modules/grommet-icons/es6/icons/Hide.js","../node_modules/grommet-icons/es6/icons/FormView.js","../node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js","components/UI/BlurredText/index.jsx","components/SessionResult/index.jsx","components/Pages/Session/index.jsx"],"names":["TEXT_ALIGN_MAP","center","end","start","textAlignStyle","props","textAlign","colorStyle","colorProp","theme","weightStyle","weight","wordBreakStyle","wordBreak","StyledText","span","withConfig","displayName","componentId","size","data","text","height","truncate","extend","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","defaultProps","setPrototypeOf","_ref","color","tag","as","rest","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","createElement","level","TextWrapper","StyledParagraph","p","paragraph","fillProp","maxWidth","ParagraphWrapper","fill","_assertThisInitialized","self","ReferenceError","_defineProperty","obj","value","defineProperty","enumerable","configurable","writable","animatedBoxProperty","direction","AnimatedBox","Box","animate","open","collapsibleDirection","_Component","subClass","superClass","Collapsible","context","_this","ref","current","getBoundingClientRect","state","create","constructor","__proto__","getDerivedStateFromProps","nextProps","prevState","_proto","componentDidUpdate","prevProps","snapshot","_this2","_this$props","_this$props$theme$col","collapsible","minSpeed","baseline","_this$state","container","dimension","dimensionSize","shouldAnimate","animationTimeout","clearTimeout","speed","Math","max","style","overflow","requestAnimationFrame","transition","setTimeout","removeAttribute","setState","componentWillUnmount","render","_this$props2","children","_this$state2","CollapsibleWrapper","StyledIcon","viewBox","a11yTitle","stroke","strokeWidth","d","giphySettings","baseUrl","apiKey","process","GifLoader","searchTerm","refreshPeriod","useState","imageUrl","setImageUrl","refreshTrigger","setRefreshTrigger","callback","delay","savedCallback","useRef","useEffect","id","setInterval","clearInterval","useInterval","a","giphyUrl","fetch","response","json","image_url","loadGiphy","src","maxHeight","alt","className","SCORE_OPTIONS","calculateScore","scores","average","reduce","sum","includes","find","x","SessionVote","session","firebase","useContext","FirebaseContext","user","AuthUserContext","userIsInSession","users","planningPokerUsername","userVote","votes","align","gap","background","pad","Heading","margin","min","Text","map","Button","label","disabled","onClick","estimate","update","firestore","FieldValue","arrayRemove","delete","icon","primary","arrayUnion","reveal","top","SessionVotes","wrap","sessionUser","getUserVote","boxBorder","border","bottom","justify","width","role","aria-label","strings","raw","slice","freeze","defineProperties","BlurredText","styled","blurSize","SessionResult","sessionHasVotes","entries","score","values","Session","history","match","params","useAuthorisation","authRules","userIsSignedIn","useFirebaseDoc","doc","isLoading","error","pageTitle","title","Page"],"mappings":"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","file":"static/js/4.df9e0f86.chunk.js","sourcesContent":["import styled, { css } from 'styled-components';\nimport { genericStyles, normalizeColor } from '../../utils';\nimport { defaultProps } from '../../default-props';\n\nvar sizeStyle = function sizeStyle(props) {\n  var size = props.size || 'medium';\n  var data = props.theme.text[size];\n\n  if (data) {\n    return css([\"font-size:\", \";line-height:\", \";\"], data.size, data.height);\n  }\n\n  return css([\"font-size:\", \";line-height:normal;\"], size);\n};\n\nvar TEXT_ALIGN_MAP = {\n  center: 'center',\n  end: 'right',\n  start: 'left'\n};\nvar textAlignStyle = css([\"text-align:\", \";\"], function (props) {\n  return TEXT_ALIGN_MAP[props.textAlign];\n});\nvar truncateStyle = \"\\n  white-space: nowrap;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n\";\nvar colorStyle = css([\"color:\", \";\"], function (props) {\n  return normalizeColor(props.colorProp, props.theme);\n});\nvar weightStyle = css([\"font-weight:\", \";\"], function (props) {\n  return props.weight;\n});\nvar wordBreakStyle = css([\"word-break:\", \";\"], function (props) {\n  return props.wordBreak;\n});\nvar StyledText = styled.span.withConfig({\n  displayName: \"StyledText\",\n  componentId: \"sc-1sadyjn-0\"\n})([\"\", \" \", \" \", \" \", \" \", \" \", \" \", \" \", \"\"], genericStyles, function (props) {\n  return sizeStyle(props);\n}, function (props) {\n  return props.textAlign && textAlignStyle;\n}, function (props) {\n  return props.truncate && truncateStyle;\n}, function (props) {\n  return props.colorProp && colorStyle;\n}, function (props) {\n  return props.weight && weightStyle;\n}, function (props) {\n  return props.wordBreak && wordBreakStyle;\n}, function (props) {\n  return props.theme.text && props.theme.text.extend;\n});\nStyledText.defaultProps = {};\nObject.setPrototypeOf(StyledText.defaultProps, defaultProps);\nexport { StyledText };","function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nimport React from 'react';\nimport { StyledText } from './StyledText';\n\nvar Text = function Text(_ref) {\n  var color = _ref.color,\n      tag = _ref.tag,\n      as = _ref.as,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"color\", \"tag\", \"as\"]);\n\n  return React.createElement(StyledText, _extends({\n    as: !as && tag ? tag : as,\n    colorProp: color\n  }, rest));\n};\n\nText.defaultProps = {\n  level: 1\n};\nvar TextDoc;\n\nif (process.env.NODE_ENV !== 'production') {\n  TextDoc = require('./doc').doc(Text); // eslint-disable-line global-require\n}\n\nvar TextWrapper = TextDoc || Text;\nexport { TextWrapper as Text };","import styled, { css } from 'styled-components';\nimport { genericStyles, normalizeColor } from '../../utils';\nimport { defaultProps } from '../../default-props';\nvar colorStyle = css([\"color:\", \";\"], function (props) {\n  return normalizeColor(props.colorProp, props.theme);\n});\n\nvar sizeStyle = function sizeStyle(props) {\n  var size = props.size || 'medium';\n  var data = props.theme.paragraph[size];\n  return css([\"font-size:\", \";line-height:\", \";max-width:\", \";\"], data.size, data.height, props.fillProp ? 'none' : data.maxWidth);\n};\n\nvar TEXT_ALIGN_MAP = {\n  center: 'center',\n  end: 'right',\n  start: 'left'\n};\nvar textAlignStyle = css([\"text-align:\", \";\"], function (props) {\n  return TEXT_ALIGN_MAP[props.textAlign];\n});\nvar StyledParagraph = styled.p.withConfig({\n  displayName: \"StyledParagraph\",\n  componentId: \"tbetod-0\"\n})([\"\", \" \", \" \", \" \", \" \", \"\"], genericStyles, function (props) {\n  return sizeStyle(props);\n}, function (props) {\n  return props.textAlign && textAlignStyle;\n}, function (props) {\n  return props.colorProp && colorStyle;\n}, function (props) {\n  return props.theme.paragraph && props.theme.paragraph.extend;\n});\nStyledParagraph.defaultProps = {};\nObject.setPrototypeOf(StyledParagraph.defaultProps, defaultProps);\nexport { StyledParagraph };","function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nimport React from 'react';\nimport { StyledParagraph } from './StyledParagraph';\n\nvar Paragraph = function Paragraph(_ref) {\n  var color = _ref.color,\n      fill = _ref.fill,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"color\", \"fill\"]);\n\n  return React.createElement(StyledParagraph, _extends({\n    colorProp: color,\n    fillProp: fill\n  }, rest));\n};\n\nvar ParagraphDoc;\n\nif (process.env.NODE_ENV !== 'production') {\n  // eslint-disable-next-line global-require\n  ParagraphDoc = require('./doc').doc(Paragraph);\n}\n\nvar ParagraphWrapper = ParagraphDoc || Paragraph;\nexport { ParagraphWrapper as Paragraph };","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nimport React, { createRef, Component } from 'react';\nimport { compose } from 'recompose';\nimport styled, { withTheme } from 'styled-components';\nimport { defaultProps } from '../../default-props';\nimport { Box } from '../Box';\n\nvar animatedBoxProperty = function animatedBoxProperty(direction) {\n  return direction === 'horizontal' ? 'width' : 'height';\n};\n\nvar AnimatedBox = styled(Box).withConfig({\n  displayName: \"Collapsible__AnimatedBox\",\n  componentId: \"sc-15kniua-0\"\n})([\"\", \";\"], function (props) {\n  return !props.animate && (props.open ? \"\\n    max-\" + animatedBoxProperty(props.collapsibleDirection) + \": unset;\\n    visibility: visible;\\n  \" : \"\\n    max-\" + animatedBoxProperty(props.collapsibleDirection) + \": 0;\\n    visibility: hidden;\\n    overflow: hidden;\\n  \");\n});\n\nvar Collapsible =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(Collapsible, _Component);\n\n  Collapsible.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {\n    var open = nextProps.open;\n\n    if (open !== prevState.open) {\n      return {\n        animate: true,\n        open: open\n      };\n    }\n\n    return null;\n  };\n\n  function Collapsible(props, context) {\n    var _this;\n\n    _this = _Component.call(this, props, context) || this;\n    /* eslint-disable-next-line react/prop-types */\n\n    _defineProperty(_assertThisInitialized(_this), \"ref\", createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"getSnapshotBeforeUpdate\", function () {\n      return _this.ref.current && _this.ref.current.getBoundingClientRect();\n    });\n\n    _this.state = {\n      open: props.open,\n      animate: false\n    };\n    return _this;\n  }\n\n  var _proto = Collapsible.prototype;\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps, prevState, snapshot) {\n    var _this2 = this;\n\n    var _this$props = this.props,\n        direction = _this$props.direction,\n        _this$props$theme$col = _this$props.theme.collapsible,\n        minSpeed = _this$props$theme$col.minSpeed,\n        baseline = _this$props$theme$col.baseline;\n    var _this$state = this.state,\n        animate = _this$state.animate,\n        open = _this$state.open;\n    var container = this.ref.current;\n\n    if (container) {\n      var dimension = animatedBoxProperty(direction);\n      var boudingClientRect = container.getBoundingClientRect();\n      var dimensionSize = boudingClientRect[dimension];\n      var shouldAnimate = animate && prevState.open !== open;\n\n      if (open && snapshot[dimension] && dimensionSize !== snapshot[dimension]) {\n        shouldAnimate = true;\n      }\n\n      if (shouldAnimate) {\n        if (this.animationTimeout) {\n          clearTimeout(this.animationTimeout);\n        }\n\n        var speed = Math.max(dimensionSize / baseline * minSpeed, minSpeed);\n        container.style[\"max-\" + dimension] = snapshot[dimension] + \"px\";\n        container.style.overflow = 'hidden';\n        requestAnimationFrame(function () {\n          requestAnimationFrame(function () {\n            // eslint-disable-next-line max-len\n            container.style.transition = \"max-\" + dimension + \" \" + speed + \"ms, visibility 50ms\";\n            container.style[\"max-\" + dimension] = open ? dimensionSize + \"px\" : '0px';\n            _this2.animationTimeout = setTimeout(function () {\n              container.removeAttribute('style');\n\n              _this2.setState({\n                animate: false\n              });\n            }, speed);\n          });\n        });\n      }\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    if (this.animationTimeout) {\n      clearTimeout(this.animationTimeout);\n    }\n  };\n\n  _proto.render = function render() {\n    /* eslint-disable-next-line react/prop-types */\n    var _this$props2 = this.props,\n        children = _this$props2.children,\n        direction = _this$props2.direction;\n    var _this$state2 = this.state,\n        animate = _this$state2.animate,\n        open = _this$state2.open;\n    return React.createElement(AnimatedBox, {\n      \"aria-hidden\": !open,\n      ref: this.ref,\n      open: open,\n      animate: animate,\n      collapsibleDirection: direction\n    }, children);\n  };\n\n  return Collapsible;\n}(Component);\n\nCollapsible.defaultProps = {};\nObject.setPrototypeOf(Collapsible.defaultProps, defaultProps);\nvar CollapsibleDoc;\n\nif (process.env.NODE_ENV !== 'production') {\n  // eslint-disable-next-line global-require\n  CollapsibleDoc = require('./doc').doc(Collapsible);\n}\n\nvar CollapsibleWrapper = compose(withTheme)(CollapsibleDoc || Collapsible);\nexport { CollapsibleWrapper as Collapsible };","function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nimport React from 'react';\nimport { StyledIcon } from '../StyledIcon';\nexport var Unlink = function Unlink(props) {\n  return React.createElement(StyledIcon, _extends({\n    viewBox: \"0 0 24 24\",\n    a11yTitle: \"Unlink\"\n  }, props), React.createElement(\"path\", {\n    fill: \"none\",\n    stroke: \"#000\",\n    strokeWidth: \"2\",\n    d: \"M17,11 L21.5856815,15.5856815 C22.366788,16.366788 22.3692352,17.6307648 21.5856815,18.4143185 L18.4143185,21.5856815 C17.633212,22.366788 16.3692352,22.3692352 15.5856815,21.5856815 L11,17 M17,8 L21,8 M16,7 L16,3 M8,21 L8,17 M3,16 L7,16 M7,13 L2.4143185,8.4143185 C1.63321196,7.63321196 1.63076481,6.36923519 2.4143185,5.5856815 L5.5856815,2.4143185 C6.36678804,1.63321196 7.63076481,1.63076481 8.4143185,2.4143185 L13,7\"\n  }));\n};","function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nimport React from 'react';\nimport { StyledIcon } from '../StyledIcon';\nexport var Link = function Link(props) {\n  return React.createElement(StyledIcon, _extends({\n    viewBox: \"0 0 24 24\",\n    a11yTitle: \"Link\"\n  }, props), React.createElement(\"path\", {\n    fill: \"none\",\n    stroke: \"#000\",\n    strokeWidth: \"2\",\n    d: \"M16.1251884,2.42026615 C16.9095797,1.63587482 18.1818354,1.63638083 18.9643331,2.41887857 L21.5811214,5.03566688 C22.3647464,5.81929188 22.3723943,7.08215115 21.5797338,7.87481161 L17.8748116,11.5797338 C17.0904203,12.3641252 15.8181646,12.3636192 15.0356669,11.5811214 L12.4188786,8.96433312 C11.6352536,8.18070812 11.6276057,6.91784885 12.4202662,6.12518839 L16.1251884,2.42026615 Z M6.12518839,12.4202662 C6.90957973,11.6358748 8.18183538,11.6363808 8.96433312,12.4188786 L11.5811214,15.0356669 C12.3647464,15.8192919 12.3723943,17.0821512 11.5797338,17.8748116 L7.87481161,21.5797338 C7.09042027,22.3641252 5.81816462,22.3636192 5.03566688,21.5811214 L2.41887857,18.9643331 C1.63525357,18.1807081 1.6276057,16.9178488 2.42026615,16.1251884 L6.12518839,12.4202662 Z M7,17 L17,7\"\n  }));\n};","import React, { useState, useEffect } from \"react\";\nimport { useInterval } from \"../../utils/useInterval\";\n\nconst giphySettings = {\n  baseUrl: \"https://api.giphy.com/v1/gifs\",\n  apiKey: process.env.REACT_APP_GIPHY_API_KEY\n};\n\nexport const GifLoader = ({ searchTerm, refreshPeriod }) => {\n  const [imageUrl, setImageUrl] = useState(null);\n  const [refreshTrigger, setRefreshTrigger] = useState(0);\n\n  useInterval(() => {\n    setRefreshTrigger(refreshTrigger + 1);\n  }, refreshPeriod);\n\n  useEffect(() => {\n    async function loadGiphy() {\n      const giphyUrl = `${giphySettings.baseUrl}/random?api_key=${giphySettings.apiKey}&tag=${searchTerm}&rating=pg`;\n      const response = await fetch(giphyUrl);\n      const json = await response.json();\n      setImageUrl(json.data.image_url);\n    }\n\n    loadGiphy();\n  }, [searchTerm, refreshTrigger]);\n\n  return (\n    imageUrl && (\n      <img\n        src={imageUrl}\n        style={{ maxWidth: \"100%\", maxHeight: \"100%\" }}\n        alt=\"giphy\"\n        className=\"img-thumbnail\"\n      />\n    )\n  );\n};\n","import { useRef, useEffect } from \"react\";\n\nexport const useInterval = (callback, delay) => {\n  const savedCallback = useRef();\n\n  useEffect(() => {\n    savedCallback.current = callback;\n  }, [callback]);\n\n  useEffect(() => {\n    function tick() {\n      savedCallback.current();\n    }\n    if (delay !== null) {\n      let id = setInterval(tick, delay);\n      return () => clearInterval(id);\n    }\n  }, [delay]);\n};\n","export const SCORE_OPTIONS = [1, 2, 3, 5, 8, 13];\n\nexport const calculateScore = scores => {\n  if (!scores || scores.length === 0) {\n    return null;\n  }\n\n  const average = scores.reduce((sum, i) => sum + i, 0) / scores.length;\n\n  const result = SCORE_OPTIONS.includes(average)\n    ? average\n    : SCORE_OPTIONS.find(x => x > average);\n\n  return result;\n};\n","import React, { useContext } from \"react\";\nimport { Box, Button, Heading, Paragraph, Text, Collapsible } from \"grommet\";\nimport { Link, Unlink } from \"grommet-icons\";\n\nimport { FirebaseContext } from \"../Firebase\";\nimport { AuthUserContext } from \"../UserSession\";\nimport { GifLoader } from \"../GifLoader\";\nimport { SCORE_OPTIONS } from \"../../utils/scoreCalculator\";\n\nfunction SessionVote({ session }) {\n  const firebase = useContext(FirebaseContext);\n  const user = useContext(AuthUserContext);\n\n  const joinSession = () => {\n    firebase.session(session.id).update({\n      users: firebase.firestore.FieldValue.arrayUnion(\n        user.planningPokerUsername\n      )\n    });\n  };\n\n  const leaveSession = () => {\n    firebase.session(session.id).update({\n      users: firebase.firestore.FieldValue.arrayRemove(\n        user.planningPokerUsername\n      ),\n      [`votes.${user.planningPokerUsername}`]: firebase.firestore.FieldValue.delete()\n    });\n  };\n\n  const castVote = estimate => {\n    firebase.session(session.id).update({\n      [`votes.${user.planningPokerUsername}`]: estimate\n    });\n  };\n\n  const userIsInSession =\n    session.users && session.users.includes(user.planningPokerUsername);\n\n  const userVote = session.votes && session.votes[user.planningPokerUsername];\n\n  return (\n    <Box align=\"start\" gap=\"small\" background=\"neutral-3\" pad=\"small\">\n      <Heading level=\"2\" margin=\"none\" size=\"small\">\n        Your vote\n      </Heading>\n      {userIsInSession && !userVote && (\n        <Paragraph>\n          You have not voted on this issue yet. Please do so by clicking one of\n          the estimates below\n        </Paragraph>\n      )}\n      {userIsInSession && userVote && (\n        <>\n          <Box fill=\"horizontal\" align=\"center\" height={{ min: \"94px\" }}>\n            <Text color=\"status-warning\" size=\"80px\" weight=\"bold\">\n              {userVote}\n            </Text>\n          </Box>\n          <Paragraph>\n            You may change your vote by clicking another estimate below\n          </Paragraph>\n        </>\n      )}\n      {userIsInSession && (\n        <Box gap=\"xxsmall\" direction=\"row\" height={{ min: \"36px\" }}>\n          {SCORE_OPTIONS.map(x => (\n            <Button\n              key={`estimate_${x}`}\n              label={x}\n              disabled={userVote === x}\n              onClick={() => castVote(x)}\n            />\n          ))}\n        </Box>\n      )}\n      {userIsInSession ? (\n        <>\n          <Paragraph size=\"small\">\n            To remove your vote and leave the session click below\n          </Paragraph>\n          <Button\n            // primary\n            color=\"accent-3\"\n            label=\"Leave\"\n            onClick={leaveSession}\n            icon={<Unlink />}\n          />\n        </>\n      ) : (\n        <>\n          <Paragraph>\n            You need to join the session before you may cast a vote. Join by\n            clicking below\n          </Paragraph>\n          <Button primary label=\"Join\" onClick={joinSession} icon={<Link />} />\n        </>\n      )}\n      <Collapsible\n        direction=\"vertical\"\n        open={userIsInSession && userVote && !session.reveal}\n      >\n        <Box margin={{ top: \"small\" }}>\n          <Paragraph size=\"small\">\n            Thanks for voing. Now we have to wait for the results to be revealed\n          </Paragraph>\n          <Box margin=\"none\" height={{ min: \"192px\" }}>\n            <GifLoader searchTerm=\"bored\" refreshPeriod={5000} />\n          </Box>\n        </Box>\n      </Collapsible>\n    </Box>\n  );\n}\n\nexport default SessionVote;\n","import React, { useContext } from \"react\";\nimport { Box, Heading, Text, Paragraph } from \"grommet\";\n\nimport { AuthUserContext } from \"../UserSession\";\n\nfunction SessionVotes({ session }) {\n  const user = useContext(AuthUserContext);\n  const getUserVote = user => session.votes && session.votes[user];\n\n  return (\n    <Box align=\"start\" gap=\"small\" background=\"neutral-4\" pad=\"small\">\n      <Heading level=\"2\" margin=\"none\" size=\"small\">\n        All Votes\n      </Heading>\n      <Paragraph>Voting results will appear below for each user</Paragraph>\n      <Box direction=\"row\" gap=\"small\" wrap>\n        {session.users &&\n          session.users.map(sessionUser => {\n            const userVote = getUserVote(sessionUser);\n            const boxBorder =\n              sessionUser === user.planningPokerUsername\n                ? { size: \"xsmall\", style: \"dashed\" }\n                : { color: \"accent-3\", size: \"xsmall\" };\n            return (\n              <Box\n                key={`session_user_${sessionUser}`}\n                direction=\"row\"\n                border={boxBorder}\n                margin={{ bottom: \"small\" }}\n              >\n                <Box pad=\"xsmall\">\n                  <Text size=\"large\">{sessionUser}</Text>\n                </Box>\n                <Box\n                  pad=\"xxsmall\"\n                  justify=\"center\"\n                  width=\"xxsmall\"\n                  align=\"center\"\n                >\n                  <Text size=\"large\" weight=\"bold\" color=\"status-warning\">\n                    {userVote && session.reveal && userVote}\n                    {userVote && !session.reveal && (\n                      <span role=\"img\" aria-label=\"waiting\">\n                        🤐\n                      </span>\n                    )}\n                    {!userVote && (\n                      <span role=\"img\" aria-label=\"waiting\">\n                        🤷\n                      </span>\n                    )}\n                  </Text>\n                </Box>\n              </Box>\n            );\n          })}\n      </Box>\n    </Box>\n  );\n}\n\nexport default SessionVotes;\n","function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nimport React from 'react';\nimport { StyledIcon } from '../StyledIcon';\nexport var Hide = function Hide(props) {\n  return React.createElement(StyledIcon, _extends({\n    viewBox: \"0 0 24 24\",\n    a11yTitle: \"Hide\"\n  }, props), React.createElement(\"path\", {\n    fill: \"none\",\n    stroke: \"#000\",\n    strokeWidth: \"2\",\n    d: \"M12,17 C9.27272727,17 6,14.2222222 6,12 C6,9.77777778 9.27272727,7 12,7 C14.7272727,7 18,9.77777778 18,12 C18,14.2222222 14.7272727,17 12,17 Z M11,12 C11,12.55225 11.44775,13 12,13 C12.55225,13 13,12.55225 13,12 C13,11.44775 12.55225,11 12,11 C11.44775,11 11,11.44775 11,12 Z M20,5 L4,19\"\n  }));\n};","function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nimport React from 'react';\nimport { StyledIcon } from '../StyledIcon';\nexport var FormView = function FormView(props) {\n  return React.createElement(StyledIcon, _extends({\n    viewBox: \"0 0 24 24\",\n    a11yTitle: \"FormView\"\n  }, props), React.createElement(\"path\", {\n    fill: \"none\",\n    stroke: \"#000\",\n    strokeWidth: \"2\",\n    d: \"M12,17 C9.27272727,17 6,14.2222222 6,12 C6,9.77777778 9.27272727,7 12,7 C14.7272727,7 18,9.77777778 18,12 C18,14.2222222 14.7272727,17 12,17 Z M11,12 C11,12.55225 11.44775,13 12,13 C12.55225,13 13,12.55225 13,12 C13,11.44775 12.55225,11 12,11 C11.44775,11 11,11.44775 11,12 Z\"\n  }));\n};","export default function _taggedTemplateLiteral(strings, raw) {\n  if (!raw) {\n    raw = strings.slice(0);\n  }\n\n  return Object.freeze(Object.defineProperties(strings, {\n    raw: {\n      value: Object.freeze(raw)\n    }\n  }));\n}","import { Text } from \"grommet\";\nimport styled from \"styled-components\";\n\nexport const BlurredText = styled(Text)`\n  transition: ${props =>\n    props.blurSize !== 0\n      ? \"none\"\n      : \"filter 1s\"}; // only apply transition when changing from blurred to not blurred\n  transition-timing-function: ease-in;\n  filter: blur(\n    ${props =>\n      props.blurSize !== false && props.blurSize >= 0 ? props.blurSize : 15}px\n  );\n`;\n","import React, { useContext } from \"react\";\nimport { Box, Heading, Paragraph, Button } from \"grommet\";\nimport { FormView, Hide } from \"grommet-icons\";\n\nimport { BlurredText } from \"../UI/BlurredText\";\nimport { FirebaseContext } from \"../Firebase\";\nimport { calculateScore } from \"../../utils/scoreCalculator\";\n\nfunction SessionResult({ session }) {\n  const firebase = useContext(FirebaseContext);\n\n  const toggleReveal = () => {\n    const reveal = !session.reveal;\n    firebase.session(session.id).update({ reveal });\n  };\n\n  const sessionHasVotes = Object.entries(session.votes).length > 0;\n\n  const score = calculateScore(Object.values(session.votes));\n\n  return (\n    <Box align=\"start\" gap=\"small\" background=\"neutral-1\" pad=\"small\">\n      <Heading level=\"2\" margin=\"none\" size=\"small\">\n        Results\n      </Heading>\n      {!sessionHasVotes && <Paragraph>Notes votes yet</Paragraph>}\n      {sessionHasVotes && (\n        <>\n          <Box fill=\"horizontal\" align=\"center\">\n            <BlurredText\n              blurSize={session.reveal && 0}\n              color=\"status-warning\"\n              size=\"80px\"\n              weight=\"bold\"\n            >\n              {session.reveal ? score : \"9\"}\n            </BlurredText>\n          </Box>\n          <Box margin={{ top: \"medium\", bottom: \"small\" }}>\n            <Button\n              onClick={toggleReveal}\n              label={session.reveal ? \"Hide\" : \"Show\"}\n              icon={session.reveal ? <Hide /> : <FormView />}\n            />\n          </Box>\n        </>\n      )}\n    </Box>\n  );\n}\n\nexport default SessionResult;\n","import React from \"react\";\nimport { Box } from \"grommet\";\n\nimport Page from \"../../Page\";\nimport { useAuthorisation, authRules } from \"../../UserSession\";\nimport { useFirebaseDoc } from \"../../Firebase\";\nimport SessionVote from \"../../SessionVote\";\nimport SessionVotes from \"../../SessionVotes\";\nimport SessionResult from \"../../SessionResult\";\n\nconst Session = ({ history, match }) => {\n  const { id } = match.params;\n\n  useAuthorisation(authRules.userIsSignedIn, history);\n  const { doc: session, isLoading, error } = useFirebaseDoc(`sessions/${id}`);\n\n  const pageTitle = session\n    ? `Session: ${session.title}`\n    : isLoading\n    ? \"Loading...\"\n    : error\n    ? \"Error\"\n    : \"\";\n\n  return (\n    <Page title={pageTitle}>\n      {session && (\n        <Box fill=\"horizontal\" direction=\"row\" gap=\"small\">\n          <Box width={{ min: \"400px\", max: \"400px\" }}>\n            <SessionVote session={session} />\n          </Box>\n          <Box fill=\"horizontal\">\n            <SessionVotes session={session} />\n          </Box>\n          <Box width={{ min: \"400px\", max: \"400px\" }}>\n            <SessionResult session={session} />\n          </Box>\n        </Box>\n      )}\n    </Page>\n  );\n};\n\nexport default Session;\n"],"sourceRoot":""}