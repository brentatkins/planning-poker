(this["webpackJsonpplanning-poker"]=this["webpackJsonpplanning-poker"]||[]).push([[5],{355:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(32),i=a(12),l=a(105),c=a(357),s=a(49),u=a(106),m=a(343),d=a(351),p=a(352),b=a(206),f=a.n(b),g=a(35),E=a.n(g),h=a(54),k=a(354),v=a(339),O=a(56),j=a(340),C=a(342),y=a(60),w=a(341),S=a(356),A=function(e){function t(){return Object(O.a)(this,t),Object(C.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(j.a)(t,[{key:"componentDidMount",value:function(){this.startAutoHideTimeout()}},{key:"componentWillUnmount",value:function(){this.timeoutAutoHide&&clearTimeout(this.timeoutAutoHide)}},{key:"startAutoHideTimeout",value:function(){var e=this.props,t=e.duration,a=e.onClose;t&&(this.timeoutAutoHide=setTimeout((function(){a()}),1e3*t))}},{key:"render",value:function(){var e=this.props,t=e.children,a=e.modal,n=e.position,o=e.full,i=Object(v.a)(e,["children","modal","position","full"]);return r.a.createElement(S.a,Object.assign({position:n||"top",full:o,modal:a,margin:"none",responsive:!0,plain:!a},i),t)}}]),t}(n.Component),T=a(17),x=function(e){var t=e.onClose,a=Object(n.useState)(""),c=Object(i.a)(a,2),m=c[0],d=c[1],p=Object(n.useContext)(T.a),b=Object(n.useContext)(o.a);function f(){return(f=Object(h.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.sessions().add({title:m,createdBy:b.planningPokerUsername,dateCreated:new Date});case 2:t();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement(A,{position:"center",modal:!0},r.a.createElement(s.a,{align:"center"},r.a.createElement(s.a,{width:"medium",pad:"small",round:!1},r.a.createElement(l.a,{level:"4",margin:"small"},"Please enter a title"),r.a.createElement(k.a,{autoFocus:!0,placeholder:"type here",value:m,onChange:function(e){return d(e.target.value)}})),r.a.createElement(s.a,{width:"medium",margin:"none",direction:"row"},r.a.createElement(s.a,{basis:"1/2"},r.a.createElement(u.a,{plain:!0,color:"dark-1",onClick:function(){return f.apply(this,arguments)}},r.a.createElement(s.a,{pad:"small",align:"center",background:"status-ok"},"Ok"))),r.a.createElement(s.a,{basis:"1/2"},r.a.createElement(u.a,{plain:!0,color:"dark-1",onClick:t},r.a.createElement(s.a,{pad:"small",align:"center",background:"status-error"},"Cancel"))))))},H=function(e){var t=e.onNavigateToSession,a=Object(n.useState)(!1),o=Object(i.a)(a,2),b=o[0],g=o[1],E=Object(T.c)("sessions"),h=E.collection,k=E.error;if(E.isLoading)return r.a.createElement(l.a,{level:"4"},"Loading...");if(k)return r.a.createElement(l.a,{level:"4"},"Error loading sessions");var v=f()("title")(h);return r.a.createElement(c.a,{align:"start",gap:"small"},r.a.createElement(s.a,{align:"start"},r.a.createElement(u.a,{icon:r.a.createElement(d.a,null),label:"Create New Session",onClick:function(){return g(!0)},color:"accent-4",primary:!0})),r.a.createElement(s.a,{wrap:!0,gap:"small",direction:"row"},v.map((function(e){return r.a.createElement(s.a,{key:"sessionlist_".concat(e.id),background:"neutral-2",pad:"small",margin:{bottom:"small"},onClick:function(){return t(e.id)}},r.a.createElement(l.a,{level:"3",margin:"none"},e.title),r.a.createElement(m.a,{size:"xsmall"},"Created by ",e.createdBy," ",e.dateCreated&&"".concat(Object(p.a)(e.dateCreated.toDate(),new Date)," ago")))}))),b&&r.a.createElement(x,{onClose:function(){return g(!1)}}))},D=a(52),N=a(11);t.default=function(e){var t=e.history;return Object(o.d)(o.b.userIsSignedIn,t),r.a.createElement(D.a,{title:"All Sessions"},r.a.createElement(H,{onNavigateToSession:function(e){t.push(N.d(e))}}))}}}]);
//# sourceMappingURL=5.cd501e97.chunk.js.map