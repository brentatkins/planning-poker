(this["webpackJsonpplanning-poker"]=this["webpackJsonpplanning-poker"]||[]).push([[4],{343:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(1),c=n(5),i=n(75),l=n(8),s={center:"center",end:"right",start:"left"},u=Object(a.css)(["text-align:",";"],(function(e){return s[e.textAlign]})),d=Object(a.css)(["color:",";"],(function(e){return Object(c.c)(e.colorProp,e.theme)})),h=Object(a.css)(["font-weight:",";"],(function(e){return e.weight})),f=Object(a.css)(["word-break:",";"],(function(e){return e.wordBreak})),m=a.default.span.withConfig({displayName:"StyledText",componentId:"sc-1sadyjn-0"})([""," "," "," "," "," "," "," ",""],i.f,(function(e){return function(e){var t=e.size||"medium",n=e.theme.text[t];return n?Object(a.css)(["font-size:",";line-height:",";"],n.size,n.height):Object(a.css)(["font-size:",";line-height:normal;"],t)}(e)}),(function(e){return e.textAlign&&u}),(function(e){return e.truncate&&"\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"}),(function(e){return e.colorProp&&d}),(function(e){return e.weight&&h}),(function(e){return e.wordBreak&&f}),(function(e){return e.theme.text&&e.theme.text.extend}));function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}m.defaultProps={},Object.setPrototypeOf(m.defaultProps,l.a),n.d(t,"a",(function(){return b}));var g=function(e){var t=e.color,n=e.tag,r=e.as,a=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,["color","tag","as"]);return o.a.createElement(m,p({as:!r&&n?n:r,colorProp:t},a))};g.defaultProps={level:1};var b=g},353:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(49),c=n(52),i=n(32),l=n(17),s=n(27),u=n(105),d=n(1),h=n(5),f=n(75),m=n(8),p=Object(d.css)(["color:",";"],(function(e){return Object(h.c)(e.colorProp,e.theme)})),g={center:"center",end:"right",start:"left"},b=Object(d.css)(["text-align:",";"],(function(e){return g[e.textAlign]})),k=d.default.p.withConfig({displayName:"StyledParagraph",componentId:"tbetod-0"})([""," "," "," "," ",""],f.f,(function(e){return function(e){var t=e.size||"medium",n=e.theme.paragraph[t];return Object(d.css)(["font-size:",";line-height:",";max-width:",";"],n.size,n.height,e.fillProp?"none":n.maxWidth)}(e)}),(function(e){return e.textAlign&&b}),(function(e){return e.colorProp&&p}),(function(e){return e.theme.paragraph&&e.theme.paragraph.extend}));function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}k.defaultProps={},Object.setPrototypeOf(k.defaultProps,m.a);var v=function(e){var t=e.color,n=e.fill,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,["color","fill"]);return o.a.createElement(k,x({colorProp:t,fillProp:n},r))},y=n(343),O=n(106),j=n(53);function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var B=function(e){return o.a.createElement(j.a,w({viewBox:"0 0 24 24",a11yTitle:"Unlink"},e),o.a.createElement("path",{fill:"none",stroke:"#000",strokeWidth:"2",d:"M17,11 L21.5856815,15.5856815 C22.366788,16.366788 22.3692352,17.6307648 21.5856815,18.4143185 L18.4143185,21.5856815 C17.633212,22.366788 16.3692352,22.3692352 15.5856815,21.5856815 L11,17 M17,8 L21,8 M16,7 L16,3 M8,21 L8,17 M3,16 L7,16 M7,13 L2.4143185,8.4143185 C1.63321196,7.63321196 1.63076481,6.36923519 2.4143185,5.5856815 L5.5856815,2.4143185 C6.36678804,1.63321196 7.63076481,1.63076481 8.4143185,2.4143185 L13,7"}))};function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var P=function(e){return o.a.createElement(j.a,E({viewBox:"0 0 24 24",a11yTitle:"Link"},e),o.a.createElement("path",{fill:"none",stroke:"#000",strokeWidth:"2",d:"M16.1251884,2.42026615 C16.9095797,1.63587482 18.1818354,1.63638083 18.9643331,2.41887857 L21.5811214,5.03566688 C22.3647464,5.81929188 22.3723943,7.08215115 21.5797338,7.87481161 L17.8748116,11.5797338 C17.0904203,12.3641252 15.8181646,12.3636192 15.0356669,11.5811214 L12.4188786,8.96433312 C11.6352536,8.18070812 11.6276057,6.91784885 12.4202662,6.12518839 L16.1251884,2.42026615 Z M6.12518839,12.4202662 C6.90957973,11.6358748 8.18183538,11.6363808 8.96433312,12.4188786 L11.5811214,15.0356669 C12.3647464,15.8192919 12.3723943,17.0821512 11.5797338,17.8748116 L7.87481161,21.5797338 C7.09042027,22.3641252 5.81816462,22.3636192 5.03566688,21.5811214 L2.41887857,18.9643331 C1.63525357,18.1807081 1.6276057,16.9178488 2.42026615,16.1251884 L6.12518839,12.4202662 Z M7,17 L17,7"}))},C=[1,2,3,5,8,13];var z=function(e){var t=e.session,n=Object(r.useContext)(l.a),c=Object(r.useContext)(i.a),d=t.users&&t.users.includes(c.planningPokerUsername),h=t.votes&&t.votes[c.planningPokerUsername];return o.a.createElement(a.a,{align:"start",gap:"small",background:"neutral-3",pad:"small"},o.a.createElement(u.a,{level:"2",margin:"none",size:"small"},"Your vote"),d&&!h&&o.a.createElement(v,null,"You have not voted on this issue yet. Please do so by clicking one of the estimates below"),d&&h&&o.a.createElement(o.a.Fragment,null,o.a.createElement(a.a,{align:"center"},o.a.createElement(y.a,{color:"accent-1",size:"80px",weight:"bold"},h)),o.a.createElement(v,null,"You may change your vote by clicking another estimate below")),d&&o.a.createElement(a.a,{gap:"xxsmall",direction:"row"},C.map((function(e){return o.a.createElement(O.a,{key:"estimate_".concat(e),label:e,disabled:h===e,onClick:function(){return r=e,void n.session(t.id).update(Object(s.a)({},"votes.".concat(c.planningPokerUsername),r));var r}})}))),d?o.a.createElement(o.a.Fragment,null,o.a.createElement(v,{size:"small"},"To remove your vote and leave the session click below"),o.a.createElement(O.a,{color:"accent-3",label:"Leave",onClick:function(){n.session(t.id).update(Object(s.a)({users:n.firestore.FieldValue.arrayRemove(c.planningPokerUsername)},"votes.".concat(c.planningPokerUsername),n.firestore.FieldValue.delete()))},icon:o.a.createElement(B,null)})):o.a.createElement(o.a.Fragment,null,o.a.createElement(v,null,"You need to join the session before you may cast a vote. Join by clicking below"),o.a.createElement(O.a,{primary:!0,label:"Join",onClick:function(){n.session(t.id).update({users:n.firestore.FieldValue.arrayUnion(c.planningPokerUsername)})},icon:o.a.createElement(P,null)})))},L=n(26),_=n(23),S=n(21),M=Object(d.css)([":hover input:not([disabled]) + div,:hover input:not([disabled]) + span{border-color:",";}"],(function(e){return Object(h.c)(e.theme.checkBox.hover.border.color,e.theme)})),I=d.default.svg.withConfig({displayName:"StyledCheckBox__StyledCheckBoxIcon",componentId:"sc-1dbk5ju-0"})(["box-sizing:border-box;stroke-width:",";stroke:",";width:",";height:",";",";"],(function(e){return e.theme.checkBox.check.thickness}),(function(e){return Object(h.c)(e.theme.checkBox.color||"control",e.theme)}),(function(e){return e.theme.checkBox.icon.size||e.theme.checkBox.size}),(function(e){return e.theme.checkBox.icon.size||e.theme.checkBox.size}),(function(e){return e.theme.checkBox.icon.extend}));I.defaultProps={},Object.setPrototypeOf(I.defaultProps,m.a);var N=d.default.label.withConfig({displayName:"StyledCheckBox__StyledCheckBoxContainer",componentId:"sc-1dbk5ju-1"})(["display:flex;flex-direction:row;align-items:center;user-select:none;"," "," "," ",""],(function(e){return e.disabled&&"\n  opacity: 0.5;\n  cursor: default;\n"}),(function(e){return!e.disabled&&"cursor: pointer;"}),(function(e){return e.theme.checkBox.hover.border.color&&M}),(function(e){return e.theme.checkBox.extend}));N.defaultProps={},Object.setPrototypeOf(N.defaultProps,m.a);var U=d.default.input.withConfig({displayName:"StyledCheckBox__StyledCheckBoxInput",componentId:"sc-1dbk5ju-2"})(["opacity:0;-moz-appearance:none;width:0;height:0;margin:0;",":checked + span > span{left:calc( "," - "," );background:",";}"],(function(e){return!e.disabled&&"cursor: pointer;"}),(function(e){return e.theme.checkBox.toggle.size}),(function(e){return e.theme.checkBox.size}),(function(e){return Object(h.c)(e.theme.checkBox.color||"control",e.theme)}));U.defaultProps={},Object.setPrototypeOf(U.defaultProps,m.a);var F=d.default.div.withConfig({displayName:"StyledCheckBox__StyledCheckBoxBox",componentId:"sc-1dbk5ju-3"})(["",";",";"],(function(e){return e.focus&&f.e}),(function(e){return e.theme.checkBox.check.extend}));F.defaultProps={},Object.setPrototypeOf(F.defaultProps,m.a);var R=d.default.span.withConfig({displayName:"StyledCheckBox__StyledCheckBoxToggle",componentId:"sc-1dbk5ju-4"})(["box-sizing:border-box;vertical-align:middle;display:inline-block;width:",";height:",";border:"," solid;border-color:",";border-radius:",";background-color:",";",";",";"],(function(e){return e.theme.checkBox.toggle.size}),(function(e){return e.theme.checkBox.size}),(function(e){return e.theme.checkBox.border.width}),(function(e){return Object(h.c)(e.theme.checkBox.border.color,e.theme)}),(function(e){return e.theme.checkBox.toggle.radius}),(function(e){return e.theme.checkBox.toggle.background?Object(h.c)(e.theme.checkBox.toggle.background,e.theme):"transparent"}),(function(e){return e.focus&&f.e}),(function(e){return e.theme.checkBox.toggle.extend}));R.defaultProps={},Object.setPrototypeOf(R.defaultProps,m.a);var A=d.default.span.withConfig({displayName:"StyledCheckBox__StyledCheckBoxKnob",componentId:"sc-1dbk5ju-5"})(["box-sizing:border-box;position:relative;display:inherit;top:-",";left:-",";transition:all 0.3s;width:",";height:",";background:",";border-radius:",";",";"],(function(e){return e.theme.checkBox.border.width}),(function(e){return e.theme.checkBox.border.width}),(function(e){return e.theme.checkBox.size}),(function(e){return e.theme.checkBox.size}),(function(e){return Object(h.c)(e.theme.checkBox.toggle.color[e.theme.dark?"dark":"light"],e.theme)}),(function(e){return e.theme.checkBox.toggle.radius}),(function(e){return e.theme.checkBox.toggle.knob.extend}));A.defaultProps={},Object.setPrototypeOf(A.defaultProps,m.a);var T=d.default.div.withConfig({displayName:"StyledCheckBox",componentId:"sc-1dbk5ju-6"})(["flex-shrink:0;"]);function Y(){return(Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}T.defaultProps={},Object.setPrototypeOf(T.defaultProps,m.a);var J=function(e){"checkbox"!==e.target.type&&e.stopPropagation()},V=function(e){var t,n;function r(t){var n;n=e.call(this,t)||this;var r=t.checked,o=t.indeterminate,a=t.toggle;return r&&o&&console.warn('Checkbox cannot be "checked" and "indeterminate" at the same time.'),a&&o&&console.warn('Checkbox of type toggle does not have "indeterminate" state.'),n}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e,t,n=this.props,r=n.checked,c=n.disabled,i=n.focus,l=n.forwardRef,s=n.id,u=n.label,d=n.name,f=n.onChange,m=n.reverse,p=n.theme,g=n.toggle,b=n.indeterminate,k=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(n,["checked","disabled","focus","forwardRef","id","label","name","onChange","reverse","theme","toggle","indeterminate"]),x={checked:r,disabled:c,focus:i,reverse:m,toggle:g,indeterminate:b};c&&r&&(t=o.a.createElement("input",{name:d,type:"hidden",value:"true"}));var v=p.checkBox.icons,y=v.checked,O=v.indeterminate,j=Object(h.c)(p.checkBox.border.color,p);r&&(j=Object(h.c)(p.checkBox.color||"control",p));var w=g?o.a.createElement(R,x,o.a.createElement(A,x)):o.a.createElement(F,Y({as:a.a,align:"center",justify:"center",width:p.checkBox.size,height:p.checkBox.size,border:{size:p.checkBox.border.width,color:j},round:p.checkBox.check.radius},x),!b&&r&&(y?o.a.createElement(y,{theme:p,as:I}):o.a.createElement(I,Y({theme:p,viewBox:"0 0 24 24",preserveAspectRatio:"xMidYMid meet"},x),o.a.createElement("path",{fill:"none",d:"M6,11.3 L10.3,16 L18,6.2"}))),!r&&b&&(O?o.a.createElement(O,{theme:p,as:I}):o.a.createElement(I,Y({theme:p,viewBox:"0 0 24 24",preserveAspectRatio:"xMidYMid meet"},x),o.a.createElement("path",{fill:"none",d:"M6,12 L18,12"})))),B=m?"left":"right",E=o.a.createElement(T,Y({as:a.a,align:"center",justify:"center",margin:u&&(e={},e[B]=p.checkBox.gap||"small",e)},x),o.a.createElement(U,Y({},k,{ref:l,type:"checkbox"},Object(_.c)({id:s,name:d,checked:r,disabled:c,onChange:f}),x)),w,t),P="string"===typeof u?o.a.createElement("span",null,u):u,C=m?P:E,z=m?E:P;return o.a.createElement(N,Y({reverse:m},Object(_.c)({htmlFor:s,disabled:c}),{checked:r,onClick:J},x),C,z)},r}(r.Component);V.defaultProps={},Object.setPrototypeOf(V.defaultProps,m.a);var W=Object(L.a)(Object(S.b)(),d.withTheme,S.c)(V);var Z=function(e){var t=e.session,n=Object(r.useContext)(l.a),c=Object(r.useContext)(i.a);return o.a.createElement(a.a,{align:"start",gap:"small",background:"neutral-4",pad:"small"},o.a.createElement(u.a,{level:"2",margin:"none",size:"small"},"Results"),o.a.createElement(v,null,"Voting results will appear below for each user"),o.a.createElement(W,{checked:t.reveal,label:"Reveal results",onChange:function(e){var r=e.target.checked;n.session(t.id).update({reveal:r})}}),o.a.createElement(a.a,{direction:"row",gap:"small",wrap:!0},t.users&&t.users.map((function(e){var n=function(e){return t.votes&&t.votes[e]}(e),r=e===c.planningPokerUsername?{color:"accent-3",size:"xsmall"}:{size:"xsmall"};return o.a.createElement(a.a,{key:"session_user_".concat(e),direction:"row",border:r,margin:{bottom:"small"}},o.a.createElement(a.a,{pad:"xsmall"},o.a.createElement(y.a,{size:"large"},e)),o.a.createElement(a.a,{pad:"xxsmall",justify:"center",width:"xxsmall",align:"center"},o.a.createElement(y.a,{size:"large",weight:"bold",color:"status-warning"},n&&t.reveal&&n,n&&!t.reveal&&o.a.createElement("span",{role:"img","aria-label":"waiting"},"\ud83e\udd10"),!n&&o.a.createElement("span",{role:"img","aria-label":"waiting"},"\ud83e\udd37"))))}))))};t.default=function(e){var t=e.history,n=e.match.params.id;Object(i.d)(i.b.userIsSignedIn,t);var r=Object(l.d)("sessions/".concat(n)),s=r.doc,u=r.isLoading,d=r.error,h=s?s.title:u?"Loading...":d?"Error":"";return o.a.createElement(c.a,{title:h},s&&o.a.createElement(a.a,{fill:"horizontal",direction:"row",gap:"small"},o.a.createElement(a.a,{width:{min:"400px"}},o.a.createElement(z,{session:s})),o.a.createElement(a.a,null,o.a.createElement(Z,{session:s}))))}}}]);
//# sourceMappingURL=4.e68ff7e8.chunk.js.map